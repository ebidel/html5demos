<element name="x-meme" attributes="src" on-dblclick="clickHandler" constructor="Meme">
<link rel="components" href="/static/libs/toolkit/components/g-component.html">
<template>
<style scoped>
  :root {
    -webkit-var-heading-size: 75px;
    -webkit-var-defaultItemPadding: 1em;
  }
  /*::distributed() not impl yet. https://bugs.webkit.org/show_bug.cgi?id=82169
  content::distributed(h1), content::distributed(h2), */
  section :first-child,
  section :last-child {
    font: 75px/1 Impact;
    color: white;
    -webkit-text-stroke: 2px black;
    margin: 0;
    z-index: 1;
    text-align: center;
    text-transform: uppercase;
    -webkit-filter: drop-shadow(1px 1px 5px black);
  }
  /*content::distributed(h2),*/
  section :last-child {
    font-size: 50px;
  }
  #bg {
    border-radius: 5px;
    background-size: cover;
    height: 300px;
    position: relative;
    margin: 10px 0;
  }
  #bg img {
    position: absolute;
    bottom: 0;
    -webkit-filter: drop-shadow(0 0 15px black);
  }
  @host {
    max-width: 700px;
    min-width: 300px;
    padding: 1em;
    border-radius: 15px;
    display: inline-block;
    /*position: relative;*/
    background: #eee;
    box-sizing: border-box;
  }
</style>
<section>
<content select="h1"></content>
<div id="bg"><img src="images/seth_no_bg.png"></div>
<content select="h2"></content>
</section>
</template>
<script>
//function Meme() {}

this.component({
  // shadowRootCreated: function(shadowRoot) {
  //   bg_ = ShadowDOM.localQuery(shadowRoot, '#bg');
  // },
  ready: function() {
console.log(this.node, this.webkitShadowRoot)
    console.log('ready');
  },
  inserted: function() {
    console.log('inserted');
  },
  // created: function() {
  //   console.log('created')
  //   this.srcChanged(this.src);
  // },
  srcChanged: function(oldVal) {
    this.$.bg.style.background = 'url(' + this.src + ') no-repeat 50% 50%';
  },
  publish: {
    clickHandler: function(e) {
      alert("Don't click me!");
    }
  }
  // prototype: {
  //   srcAttributeChanged: function(newVal, oldVal) {
  //     bg_.style.background = 'url(' + newVal + ') no-repeat 50% 50%';
  //   },
  //   dblClickHandler: function(e) {
  //     alert("Don't click me!");
  //   }
  // }
});
</script>
</element>